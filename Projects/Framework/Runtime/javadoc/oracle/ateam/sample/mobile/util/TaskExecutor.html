<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_25) on Thu Mar 31 09:53:34 CEST 2016 -->
<title>TaskExecutor</title>
<meta name="date" content="2016-03-31">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TaskExecutor";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":9,"i3":9,"i4":9,"i5":9,"i6":10,"i7":10,"i8":10,"i9":9,"i10":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../oracle/ateam/sample/mobile/util/StringUtils.html" title="class in oracle.ateam.sample.mobile.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../oracle/ateam/sample/mobile/util/UsageTracker.html" title="class in oracle.ateam.sample.mobile.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?oracle/ateam/sample/mobile/util/TaskExecutor.html" target="_top">Frames</a></li>
<li><a href="TaskExecutor.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">oracle.ateam.sample.mobile.util</div>
<h2 title="Class TaskExecutor" class="title">Class TaskExecutor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>oracle.ateam.sample.mobile.util.TaskExecutor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TaskExecutor</span>
extends java.lang.Object</pre>
<div class="block">This class is used to execute tasks (runnables), either in foreground or in background.
 Depending on the type of instance obtained and parameters passed in, the background tasks are executed sequentially
 or in parallel.
 When calling the getInstance() method without arguments, the value of property enable.parallel.rest.calls in
 mobile-persistence.config.properties  determines the type of instance returned. If set to true, the instance
 uses a multiThreadPool enabling parallel executing of multiple tasks. If set to false, a single thread
 pool is used which means all tasks are executed sequentially. To explicitly obtain a specific instance type, call the
 getInstance() method with the boolean seiqential argument.

 When making multiple remote REST calls, the sequence migh be important as result of the first call might be needed by the next call.
 Furthermore, actions against the local SQLite database might require sequential execution, for example to prevent
 multiple threads writing at same time, which can cause errors about nesting transactions not being allowed.

 Finally, this class sets an application scope boolean flag to indicate whether
 there are background tasks running. This flag can be used to show some sort of spinning wheel icon in the UI, or
 simply some text message like "Loading data". The expression to evaluate this flag is #{applicationScope.ampa_bgtask_running}
 When ontaning a DBInstance, this flag is not set.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#TaskExecutor-boolean-">TaskExecutor</a></span>(boolean&nbsp;sequential)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#execute-boolean-java.lang.Runnable-">execute</a></span>(boolean&nbsp;inBackground,
       java.lang.Runnable&nbsp;task)</code>
<div class="block">Execute a task.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#executeUIRefreshTask-java.lang.Runnable-">executeUIRefreshTask</a></span>(java.lang.Runnable&nbsp;task)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html" title="class in oracle.ateam.sample.mobile.util">TaskExecutor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#getDBInstance--">getDBInstance</a></span>()</code>
<div class="block">Returns the instance used to execute DB SQL statements.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html" title="class in oracle.ateam.sample.mobile.util">TaskExecutor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Returns an instance based on the current feature.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html" title="class in oracle.ateam.sample.mobile.util">TaskExecutor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#getInstance-boolean-">getInstance</a></span>(boolean&nbsp;sequential)</code>
<div class="block">Returns an instance based on the current feature.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html" title="class in oracle.ateam.sample.mobile.util">TaskExecutor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#getSequentialInstance-java.lang.String-">getSequentialInstance</a></span>(java.lang.String&nbsp;key)</code>
<div class="block">Returns an instance based on the key that always executes tasks sequentially using a singlethread pool.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#initIfNeeded--">initIfNeeded</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#isRunning--">isRunning</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#setRunning-boolean-">setRunning</a></span>(boolean&nbsp;running)</code>
<div class="block">This method toggles the boolean expression #{applicationScope.ampa_bgtask_running} between true and false
 depending in whether there are still task being executed in the instance.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#shutDown--">shutDown</a></span>()</code>
<div class="block">Shuts down the thread pool gracefully for all task executor instances.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html#updateStatus--">updateStatus</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TaskExecutor-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TaskExecutor</h4>
<pre>public&nbsp;TaskExecutor(boolean&nbsp;sequential)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html" title="class in oracle.ateam.sample.mobile.util">TaskExecutor</a>&nbsp;getInstance()</pre>
<div class="block">Returns an instance based on the current feature. We cannot share the instance across features because
 flushing of data change events would not work in any feature except for the feature that creates the instance.
 
 The property enable.parallel.rest.calls in mobile-persistence.config.properties  determines
 whether the instance uses a multiThreadPool enabling parallel executing of multiple tasks, or a single thread
 pool which means all tasks are executed sequentially.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getInstance-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html" title="class in oracle.ateam.sample.mobile.util">TaskExecutor</a>&nbsp;getInstance(boolean&nbsp;sequential)</pre>
<div class="block">Returns an instance based on the current feature. We cannot share the instance across features because
 flushing of data change events would not work in any feature except for the feature that creates the instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getDBInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBInstance</h4>
<pre>public static&nbsp;<a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html" title="class in oracle.ateam.sample.mobile.util">TaskExecutor</a>&nbsp;getDBInstance()</pre>
<div class="block">Returns the instance used to execute DB SQL statements. This instance always executes 
 tasks sequentially using a singlethread pool.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getSequentialInstance-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSequentialInstance</h4>
<pre>public static&nbsp;<a href="../../../../../oracle/ateam/sample/mobile/util/TaskExecutor.html" title="class in oracle.ateam.sample.mobile.util">TaskExecutor</a>&nbsp;getSequentialInstance(java.lang.String&nbsp;key)</pre>
<div class="block">Returns an instance based on the key that always executes tasks sequentially using a singlethread pool.
 This instance does NOT set/update the #{applicationScope.ampa_bgtask_running} expression value</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="initIfNeeded--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initIfNeeded</h4>
<pre>protected&nbsp;void&nbsp;initIfNeeded()</pre>
</li>
</ul>
<a name="setRunning-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRunning</h4>
<pre>protected&nbsp;void&nbsp;setRunning(boolean&nbsp;running)</pre>
<div class="block">This method toggles the boolean expression #{applicationScope.ampa_bgtask_running} between true and false
 depending in whether there are still task being executed in the instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>running</code> - </dd>
</dl>
</li>
</ul>
<a name="updateStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateStatus</h4>
<pre>protected&nbsp;void&nbsp;updateStatus()</pre>
</li>
</ul>
<a name="execute-boolean-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre>public&nbsp;void&nbsp;execute(boolean&nbsp;inBackground,
                    java.lang.Runnable&nbsp;task)</pre>
<div class="block">Execute a task. If the task is to be executed in the background and the instance is using a singleThread pool
 than all tasks are executed in the sequence of submission.
 To check whether there are any background tasks running in this thread pool, you can use 
 the boolean expression #{applicationScope.ampa_bgtask_running}.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inBackground</code> - </dd>
<dd><code>task</code> - </dd>
</dl>
</li>
</ul>
<a name="executeUIRefreshTask-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeUIRefreshTask</h4>
<pre>public&nbsp;void&nbsp;executeUIRefreshTask(java.lang.Runnable&nbsp;task)</pre>
</li>
</ul>
<a name="isRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;boolean&nbsp;isRunning()</pre>
</li>
</ul>
<a name="shutDown--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shutDown</h4>
<pre>public static&nbsp;void&nbsp;shutDown()</pre>
<div class="block">Shuts down the thread pool gracefully for all task executor instances.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../oracle/ateam/sample/mobile/util/StringUtils.html" title="class in oracle.ateam.sample.mobile.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../oracle/ateam/sample/mobile/util/UsageTracker.html" title="class in oracle.ateam.sample.mobile.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?oracle/ateam/sample/mobile/util/TaskExecutor.html" target="_top">Frames</a></li>
<li><a href="TaskExecutor.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
